<!--
File Name:     pages/movie-details/movie-details.html
Description:   Presentation component of movie details page
Authors:       Tony Bogun, Liavontsi Brechka, Aaron Fernandes, Omid Khataee, Edward Song
GitHub:        https://github.com/COMP308-Emerging-Technologies-Group2/COMP308-Group2-Favourite-Movie-List
-->

<ion-header>

  <ion-navbar color="primary">
    <ion-title>Details</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-card>

    <ion-item>

      <h1 text-wrap>{{media.title}}
        <p>{{media.released | date:'mediumDate' }}</p>
      </h1>

    </ion-item>

    <img *ngIf="posterAvailable" src="{{media.poster}}">
    <img *ngIf="!posterAvailable" src="../assets/images/posterPlaceholder.png">

    <ion-card-content>
      <p>{{media.plot}}</p>

      <ion-item>
        <ion-icon name="people" item-left large></ion-icon>
        <h2>Actors</h2>
        <p text-wrap>{{media.actors}}</p>
      </ion-item>

      <ion-item *ngIf="media.director!='N/A'">
        <ion-icon name="videocam" item-left large></ion-icon>
        <h2>Director</h2>
        <p text-wrap>{{media.director}}</p>
      </ion-item>


      <ion-item *ngIf="media.director=='N/A'">
        <ion-icon name="videocam" item-left large></ion-icon>
        <h2>Writer</h2>
        <p text-wrap>{{media.writer}}</p>
      </ion-item>

      <ion-item>
        <ion-icon name="film" item-left large></ion-icon>
        <h2>Genres</h2>
        <p text-wrap>{{media.genres}}</p>
      </ion-item>
      <div *ngIf="check==false">
        <button ion-item large icon-left text-center color="primary" (click)="AddToFavorites()">
        <ion-icon name="bookmark"></ion-icon>
        Add to Favourites
      </button>
      </div>

      <div *ngIf="check==true">
        <button ion-item large icon-left text-center color="primary" (click)="RemoveFromFavorites()">
        <ion-icon name="bookmark"></ion-icon>
        Remove From Favourites
      </button>
      </div>
    </ion-card-content>

    <ion-row>
      <ion-col>
        <button ion-button icon-left clear small>
        <ion-icon name="star"></ion-icon>
        <div>{{media.rating}}</div>
      </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-left clear small>
        <ion-icon name="person"></ion-icon>
        <div>Rated: {{media.rated}}</div>
      </button>
      </ion-col>
      <ion-col center text-center>
        <ion-note>
          runtime: {{media.runtime}}
        </ion-note>
      </ion-col>
    </ion-row>

  </ion-card>

</ion-content>